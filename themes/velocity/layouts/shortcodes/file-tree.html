<div class="file-tree" role="tree" aria-label="File structure">
  {{- $lines := split .Inner "\n" -}}
  {{- range $lines -}}
    {{- if . -}}
      {{- $trimmed := strings.TrimLeft " " . -}}
      {{- $indent := sub (len .) (len $trimmed) -}}
      {{- $depth := div $indent 2 -}}
      {{- $isFolder := hasSuffix $trimmed "/" -}}
      {{- $name := strings.TrimSuffix "/" $trimmed -}}
      {{- $isGo := hasSuffix $name ".go" -}}
      <div class="file-tree-item" style="--depth: {{ $depth }}">
        {{ if $isFolder }}
        <svg class="file-tree-icon file-tree-icon--folder" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"/>
        </svg>
        {{ else if $isGo }}
        <svg class="file-tree-icon file-tree-icon--go" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
        </svg>
        {{ else }}
        <svg class="file-tree-icon file-tree-icon--file" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
        </svg>
        {{ end }}
        <span>{{ if $isFolder }}{{ $name }}/{{ else }}{{ $name }}{{ end }}</span>
      </div>
    {{- end -}}
  {{- end -}}
</div>
